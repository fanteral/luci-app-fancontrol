# ==================== 风扇控制配置文件 ====================
# 此文件包含风扇控制应用的所有配置参数
# 修改后需要重启服务或重新加载配置才能生效

# 主配置段
config settings
    # 启用/禁用风扇控制 (1=启用, 0=禁用)
    option enable '1'
    
    # 温度传感器文件路径
    # 默认值：'/sys/devices/virtual/thermal/thermal_zone0/temp'
    option thermal_file '/sys/devices/virtual/thermal/thermal_zone0/temp'
    
    # 风扇PWM控制文件路径
    # 默认值：'/sys/class/hwmon/hwmon7/pwm1'
    option fan_pwm_file '/sys/class/hwmon/hwmon7/pwm1'
    
    # 风扇速度读取文件路径
    # 默认值：'/sys/class/hwmon/hwmon7/fan1_input'
    option fan_speed_file '/sys/class/hwmon/hwmon7/fan1_input'
    
    # 温度系数，用于将原始温度值转换为摄氏度
    # 例如：原始值50000 / 1000 = 50.0°C
    option temp_div '1000'
    
    # 风扇启动初始速度 (0-255)
    # 当温度达到启动温度时，风扇以此速度启动
    option start_speed '35'
    
    # 风扇最大速度限制 (0-255)
    # 风扇速度不会超过此值
    option max_speed '255'
    
    # PID控制的目标温度 (摄氏度)
    # 风扇控制的目标温度，PID算法会努力维持系统温度在此值附近
    option target_temp '55'
    
    # ==================== PID控制参数 ====================
    # PID比例增益系数
    # 影响系统响应速度，值越大响应越快但可能产生超调
    option Kp '5.0'
    
    # PID积分增益系数
    # 消除稳态误差，值过大可能导致振荡
    option Ki '1.0'
    
    # PID微分增益系数
    # 抑制系统响应，减少超调
    option Kd '0.01'
    
    # ==================== 系统参数 ====================
    # 温度记录间隔 (秒)
    # 每隔多少秒记录一次温度数据到日志文件
    option log_interval '10'
    
    # PID计算周期 (秒)
    # 每隔多少秒重新计算一次PID输出
    option pid_interval '30'
